<div class="badge" ng-transclude></div>
<div ng-repeat="chart in data" class="checkbox" ng-class="{bold: chart.$highlight}">
    <label>
        <div class="color-box"
             ng-style="{background: chart.color, visibility: chart.$selected ? 'visible' : 'hidden'}"></div>
        <input type="checkbox" ng-model="chart.$selected" ng-change="onUpdate()" ng-disabled="!$index && false">
        <span class="real-label">{{ chart.name }}</span>
        <select ng-model="chart.$selectedDropDown" ng-change="chart.$selected = true;onUpdate()"
                ng-if="chart.dropdowns" ng-init="chart.$selectedDropDown = chart.dropdowns[0]"
                ng-options="option.name for option in chart.dropdowns track by option.id">
        </select>
    </label>
</div>